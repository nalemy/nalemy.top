---
title: "[ARC074E] RGB Sequence" 
categories:
  - 题目
date: 2023-12-02 21:58:08
tags:
  - 动态规划
  - 状态设计
---
考虑到序列的后缀颜色数随着后缀长度增加单调不减，而非空区间内的颜色数只可能有 $1,2,3$ 种，所以尝试维护后缀颜色数出现差异的左端点位置，即从右向左第一次出现新颜色的位置、第二次出现新颜色的位置。

对前缀 $[1,i]$ 进行 DP，校验所有右端点为 $i$ 的限制，对符合限制的状态向后贡献即可。